# –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ü–æ–º–æ—â–Ω–∏–∫ API - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#1-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
2. [–ë–∞–∑–æ–≤—ã–π URL](#2-–±–∞–∑–æ–≤—ã–π-url)
3. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#3-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
4. [–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API](#4-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã-api)
   - [4.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#41-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
   - [4.2 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏](#42-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
   - [4.3 –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏](#43-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
   - [4.4 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞](#44-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
   - [4.5 –°–µ—Ä–≤–∏—Å–Ω—ã–µ](#45-—Å–µ—Ä–≤–∏—Å–Ω—ã–µ)
5. [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#5-–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
6. [–î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#6-–¥–ª—è-–º–æ–±–∏–ª—å–Ω–æ–≥–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
7. [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#7-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)

---

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤, –ø–æ–ª—É—á–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

## 2. –ë–∞–∑–æ–≤—ã–π URL
```
http://–≤–∞—à-–¥–æ–º–µ–Ω/api/v1
```

## 3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
Authorization: Bearer {–≤–∞—à_—Ç–æ–∫–µ–Ω}
```

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è** (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω):
- `POST /auth/login`
- `GET /health`
- `GET /`
- `GET /api/v1/test/db`

## 4. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### 4.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### **POST** `/auth/login`
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞.

**Content-Type:** `application/x-www-form-urlencoded`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (form-data):**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| username | string | –î–∞ | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| password | string | –î–∞ | –ü–∞—Ä–æ–ª—å |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=test@example.com&password=yourpassword"
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer",
  "user": {
    "id": 1,
    "email": "test@example.com",
    "full_name": "Test User",
    "is_active": true,
    "created_at": "2026-01-14T12:45:25.084949+00:00"
  }
}
```

**–û—à–∏–±–∫–∏:**
- `401 Unauthorized`: –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å

---

#### **GET** `/auth/me`
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer {–≤–∞—à_—Ç–æ–∫–µ–Ω}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": 1,
  "email": "test@example.com",
  "full_name": "Test User",
  "is_active": true,
  "created_at": "2026-01-14T12:45:25.084949+00:00"
}
```

---

### 4.2 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ *(–Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)*

#### **GET** `/categories/`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer {–≤–∞—à_—Ç–æ–∫–µ–Ω}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 1,
    "name": "–ï–¥–∞",
    "icon": "food",
    "color": "#FF5733",
    "user_id": 1,
    "created_at": "2026-01-15T15:38:42.212612+00:00",
    "updated_at": null
  }
]
```

---

#### **POST** `/categories/`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é.

**Content-Type:** `application/json`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
  "icon": "car",
  "color": "#3498db"
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `name`: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Å—Ç—Ä–æ–∫–∞)

**–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `icon`: –ò–∫–æ–Ω–∫–∞ (—Å—Ç—Ä–æ–∫–∞, –ø–æ —É–º–æ–ª—á. "default")
- `color`: –¶–≤–µ—Ç (—Å—Ç—Ä–æ–∫–∞, –ø–æ —É–º–æ–ª—á. "#3498db")

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": 2,
  "name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
  "icon": "car",
  "color": "#3498db",
  "user_id": 1,
  "created_at": "2026-01-15T15:45:00.000000+00:00",
  "updated_at": null
}
```

---

### 4.3 –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### **GET** `/transactions/`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer {–≤–∞—à_—Ç–æ–∫–µ–Ω}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|-----|--------------|----------|--------|
| skip | integer | –ù–µ—Ç | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å N –∑–∞–ø–∏—Å–µ–π (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) | `0` |
| limit | integer | –ù–µ—Ç | –ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å–µ–π (–º–∞–∫—Å. 100) | `50` |
| category_id | integer | –ù–µ—Ç | –§–∏–ª—å—Ç—Ä –ø–æ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | `1` |
| start_date | datetime | –ù–µ—Ç | –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ | `2024-01-15T00:00:00` |
| end_date | datetime | –ù–µ—Ç | –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ | `2024-01-15T23:59:59` |
| type | string | –ù–µ—Ç | –¢–∏–ø: "expense" –∏–ª–∏ "income" | `expense` |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/v1/transactions/?start_date=2024-01-01T00:00:00&end_date=2024-01-31T23:59:59&type=expense&limit=10
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 2,
    "amount": 1500.5,
    "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ UUU",
    "category_id": 1,
    "type": "expense",
    "date": "2024-01-15T14:30:00",
    "user_id": 1,
    "source": "manual",
    "created_at": "2026-01-15T15:40:10.014731+00:00"
  }
]
```

---

#### **POST** `/transactions/`
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

**Content-Type:** `application/json`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "amount": 1500.50,
  "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ –ú–∞–≥–Ω–∏—Ç–µ",
  "category_id": 1,
  "type": "expense",
  "date": "2024-01-15T14:30:00"
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `amount`: –°—É–º–º–∞ (—á–∏—Å–ª–æ)

**–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∞)
- `category_id`: ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
- `type`: –¢–∏–ø: "expense" (—Ä–∞—Å—Ö–æ–¥) –∏–ª–∏ "income" (–¥–æ—Ö–æ–¥), –ø–æ —É–º–æ–ª—á. "expense"
- `date`: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (—Å—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO)

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "id": 3,
  "amount": 1500.5,
  "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ –ú–∞–≥–Ω–∏—Ç–µ",
  "category_id": 1,
  "type": "expense",
  "date": "2024-01-15T14:30:00",
  "user_id": 1,
  "source": "manual",
  "created_at": "2026-01-15T16:00:00.000000+00:00"
}
```

---

#### **GET** `/transactions/{transaction_id}`
–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:**
- `transaction_id`: ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/v1/transactions/2
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": 2,
  "amount": 1500.5,
  "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ UUU",
  "category_id": 1,
  "type": "expense",
  "date": "2024-01-15T14:30:00",
  "user_id": 1,
  "source": "manual",
  "created_at": "2026-01-15T15:40:10.014731+00:00"
}
```

**–û—à–∏–±–∫–∏:**
- `404 Not Found`: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞

---

#### **PUT** `/transactions/{transaction_id}`
–û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

**Content-Type:** `application/json`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:**
- `transaction_id`: ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "amount": 1600.00,
  "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ –ú–∞–≥–Ω–∏—Ç–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)",
  "category_id": 1
}
```

**–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (—Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ):**
- `amount`: –°—É–º–º–∞ (—á–∏—Å–ª–æ)
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∞)
- `category_id`: ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
- `type`: –¢–∏–ø: "expense" –∏–ª–∏ "income"
- `date`: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": 2,
  "amount": 1600.0,
  "description": "–ü—Ä–æ–¥—É–∫—Ç—ã –≤ –ú–∞–≥–Ω–∏—Ç–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)",
  "category_id": 1,
  "type": "expense",
  "date": "2024-01-15T14:30:00",
  "user_id": 1,
  "source": "manual",
  "created_at": "2026-01-15T15:40:10.014731+00:00"
}
```

---

#### **DELETE** `/transactions/{transaction_id}`
–£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:**
- `transaction_id`: ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:** `204 No Content`

**–û—à–∏–±–∫–∏:**
- `404 Not Found`: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞

---

### 4.4 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### **GET** `/transactions/stats/by-category`
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ –ø–µ—Ä–∏–æ–¥.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|--------------|----------|--------------|
| start_date | datetime | –ù–µ—Ç | –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ | 30 –¥–Ω–µ–π –Ω–∞–∑–∞–¥ |
| end_date | datetime | –ù–µ—Ç | –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ | –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/v1/transactions/stats/by-category?start_date=2024-01-01T00:00:00&end_date=2024-01-31T23:59:59
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "period": {
    "start_date": "2024-01-01T00:00:00",
    "end_date": "2024-01-31T23:59:59"
  },
  "total_expenses": 12500.5,
  "total_income": 20000.0,
  "balance": 7499.5,
  "by_category": [
    {
      "category": "–ï–¥–∞",
      "amount": 5000.0,
      "count": 15,
      "percentage": 40.0,
      "color": "#FF5733"
    },
    {
      "category": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      "amount": 3000.0,
      "count": 8,
      "percentage": 24.0,
      "color": "#3498db"
    },
    {
      "category": "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
      "amount": 4500.5,
      "count": 10,
      "percentage": 36.0,
      "color": "#CCCCCC"
    }
  ]
}
```

---

#### **GET** `/transactions/stats/monthly`
–î–∏–Ω–∞–º–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –¥–æ—Ö–æ–¥–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|--------------|----------|--------------|
| months | integer | –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—è—Ü–µ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (1-12) | 6 |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET /api/v1/transactions/stats/monthly?months=6
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "period_months": 6,
  "monthly_data": [
    {
      "month": "2024-01",
      "expenses": 12500.5,
      "income": 20000.0,
      "balance": 7499.5
    },
    {
      "month": "2023-12",
      "expenses": 11000.0,
      "income": 18000.0,
      "balance": 7000.0
    },
    {
      "month": "2023-11",
      "expenses": 9800.0,
      "income": 17500.0,
      "balance": 7700.0
    }
  ]
}
```

---

### 4.5 –°–µ—Ä–≤–∏—Å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### **GET** `/`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API.

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "message": "Financial Assistant API is running!"
}
```

---

#### **GET** `/health`
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞.

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "status": "ok",
  "database": "connected"
}
```

---

#### **GET** `/api/v1/test/db`
–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö.

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "status": "ok",
  "tables": ["users"],
  "user_count": 1,
  "recent_users": [
    {
      "id": 1,
      "email": "test@example.com",
      "full_name": "Test User",
      "created_at": "2026-01-14T12:45:25.084949+00:00"
    }
  ]
}
```

---

## 5. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
```json
{
  "id": "integer",
  "email": "string",
  "hashed_password": "string",
  "full_name": "string | null",
  "is_active": "boolean",
  "created_at": "datetime"
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è (Category)
```json
{
  "id": "integer",
  "name": "string",
  "icon": "string",
  "color": "string",
  "user_id": "integer",
  "created_at": "datetime",
  "updated_at": "datetime | null"
}
```

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (Transaction)
```json
{
  "id": "integer",
  "amount": "float",
  "description": "string | null",
  "date": "datetime",
  "type": "string ('expense' –∏–ª–∏ 'income')",
  "source": "string ('manual' –∏–ª–∏ 'sms')",
  "category_id": "integer | null",
  "user_id": "integer",
  "created_at": "datetime"
}
```

---

## 6. –î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 6.1 –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã
1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Üí `POST /auth/login`
2. **–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** ‚Üí `GET /categories/`
3. **–ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞ –¥–µ–Ω—å** ‚Üí `GET /transactions/?start_date=...&end_date=...`
4. **–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏–∑ SMS** ‚Üí `POST /transactions/` —Å `source: "sms"`
5. **–û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚Üí `PUT /transactions/{id}`

### 6.2 –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–¥–µ–Ω—å)
```
GET /transactions/?start_date=2024-01-15T00:00:00&end_date=2024-01-15T23:59:59
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞**: `GET /transactions/stats/by-category?start_date=...&end_date=...`
- **–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –ø–æ –º–µ—Å—è—Ü–∞–º**: `GET /transactions/stats/monthly?months=6`

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SMS
*(–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤)*

---

## 7. –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### Python (requests)
```python
import requests

# 1. –õ–æ–≥–∏–Ω
login_data = {
    'username': 'test@example.com',
    'password': 'yourpassword'
}
login_response = requests.post('http://localhost:8000/api/v1/auth/login', data=login_data)
token = login_response.json()['access_token']

headers = {'Authorization': f'Bearer {token}'}

# 2. –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
transactions = requests.get('http://localhost:8000/api/v1/transactions/', headers=headers).json()

# 3. –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
new_transaction = {
    "amount": 1500.50,
    "description": "–ü—Ä–æ–¥—É–∫—Ç—ã",
    "category_id": 1,
    "type": "expense",
    "date": "2024-01-15T14:30:00"
}
response = requests.post('http://localhost:8000/api/v1/transactions/', 
                         json=new_transaction, 
                         headers=headers)
```

### cURL
```bash
# –õ–æ–≥–∏–Ω
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=test@example.com&password=yourpassword"

# –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —Ç–æ–∫–µ–Ω–æ–º
curl -X GET "http://localhost:8000/api/v1/transactions/" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
1. –í—Å–µ ID –≤ –æ—Ç–≤–µ—Ç–∞—Ö - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
2. –í—Å–µ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601: `YYYY-MM-DDTHH:MM:SS`
3. –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `ACCESS_TOKEN_EXPIRE_MINUTES`)
4. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
5. –î–ª—è SMS-–ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—å Transaction –∏ –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è Financial Assistant API –≤–µ—Ä—Å–∏–∏ 1.0.0*